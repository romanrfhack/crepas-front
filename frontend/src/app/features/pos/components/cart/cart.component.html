<section class="cart" aria-label="Carrito de venta">
  <div class="cart-header">
    <h2>Tu pedido</h2>
  </div>

  @if (items().length === 0) {
    <div class="empty-cart">
      <span>ðŸ›’</span>
      <p>El carrito estÃ¡ vacÃ­o</p>
      <p style="font-size: 0.85rem; margin-top: 0.5rem; color: var(--brand-muted);">
        Agrega productos desde el catÃ¡logo
      </p>
    </div>
  } @else {
    <ul class="cart-items">
      @for (item of items(); track item.id) {
        <li class="cart-item">
          <div class="item-info">
            <span class="item-name">{{ item.productName }}</span>
            <span class="item-price">${{ (item.basePrice * item.quantity).toFixed(2) }}</span>
          </div>

          <div class="item-actions">
            <!-- Disminuir cantidad -->
            <button
              type="button"
              class="btn-quantity"
              (click)="decrease.emit(item.id)"
              [disabled]="item.quantity <= 1"
              aria-label="Disminuir cantidad"
            >
              âˆ’
            </button>

            <span class="quantity-value">{{ item.quantity }}</span>

            <!-- Aumentar cantidad -->
            <button
              type="button"
              class="btn-quantity"
              (click)="increase.emit(item.id)"
              aria-label="Aumentar cantidad"
            >
              +
            </button>

            <!-- Eliminar producto -->
            <button
              type="button"
              class="btn-remove"
              (click)="remove.emit(item.id)"
              aria-label="Eliminar producto"
            >
              âœ•
            </button>
          </div>
        </li>
      }
    </ul>

    <div class="cart-footer">
      <div class="total-row">
        <span class="total-label">Total estimado</span>
        <span class="total-amount">${{ estimatedTotal().toFixed(2) }}</span>
      </div>

      <button
        type="button"
        class="btn-checkout"
        [disabled]="items().length === 0 || checkoutDisabled()"
        (click)="checkout.emit()"
      >
        <span>ðŸ’°</span>
        Confirmar cobro
      </button>
    </div>
  }
</section>